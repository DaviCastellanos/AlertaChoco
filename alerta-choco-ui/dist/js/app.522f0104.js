(function(t){function e(e){for(var i,o,n=e[0],c=e[1],l=e[2],m=0,d=[];m<n.length;m++)o=n[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,n=1;n<a.length;n++){var c=a[n];0!==s[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},r=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("85ec"),s=a.n(i);s.a},"1fbe":function(t,e,a){"use strict";var i=a("563a"),s=a.n(i);s.a},"563a":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("caad"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("1276"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",{attrs:{"no-gutters":""}},[a("nav-bar")],1),a("div",{staticClass:"d-flex justify-content-center no-gutters"},[a("router-view")],1),a("Footer")],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"navBar"}},[a("b-navbar",{staticStyle:{"background-color":"#00473B"},attrs:{toggleable:"lg",type:"dark",fixed:"top"}},[a("b-navbar-brand",[t._v("RED ANANSI")]),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/"},on:{click:function(e){return t.changeView("map")}}},[t._v("Mapa")]),a("b-nav-item",{attrs:{to:"/"},on:{click:function(e){return t.changeView("table")}}},[t._v("Tabla")]),a("b-nav-item",{attrs:{to:"/"},on:{click:function(e){return t.changeView("statistics")}}},[t._v("Estadísticas")])],1),t.isUserAuthenticated?t._e():a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.login",modifiers:{login:!0}}],staticClass:"text-light my-2 my-sm-0",attrs:{size:"sm",type:"submit",variant:"warning"}},[t._v("Entrar")]),t.isUserAuthenticated?a("b-dropdown",{staticClass:"text-light",attrs:{variant:"warning",right:""}},[a("b-dropdown-item",{attrs:{disabled:""}},[t._v(t._s(t.userName))]),t.userIsAdmin?a("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.create",modifiers:{create:!0}}],staticClass:"text-light my-2 my-sm-0 mr-2",attrs:{size:"sm",type:"submit"}},[t._v("Crear usuario")]):t._e(),t.isUserAuthenticated?a("b-dropdown-item",{staticClass:"text-light my-2 my-sm-0",attrs:{size:"sm",type:"submit"},on:{click:function(e){return t.onSignOut()}}},[t._v("Salir")]):t._e(),t.isUserAuthenticated?a("b-dropdown-item",{staticClass:"text-light my-2 my-sm-0",attrs:{size:"sm",type:"submit"},on:{click:function(e){return t.csvExport()}}},[t._v("Exportar datos")]):t._e()],1):t._e()],1)],1),a("b-modal",{ref:"error-modal",attrs:{title:"Error","ok-only":"","header-bg-variant":"danger","body-bg-variant":"danger","header-text-variant":"light","body-text-variant":"light","hide-footer":!0}},[a("p",[t._v(t._s(t.appError))])]),a("b-modal",{attrs:{id:"login",title:"AUTENTICACIÓN","ok-only":"","ok-title":"ENTRAR"},on:{ok:function(e){return t.onSignIn()},close:function(e){return t.cleanInput()},hide:function(e){return t.cleanInput()}}},[a("b-form-input",{attrs:{type:"email",placeholder:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("b-form-input",{staticClass:"mt-2",attrs:{type:"password",placeholder:"contraseña"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("b-modal",{attrs:{id:"create",title:"CREAR USUARIO","ok-only":"","ok-title":"CREAR","hide-footer":!(this.passwordLength()&&this.passwordMatch())},on:{ok:function(e){return t.onSignUp()},close:function(e){return t.cleanInput()},hide:function(e){return t.cleanInput()}}},[a("b-form-input",{staticClass:"mt-2",attrs:{type:"text",placeholder:"nombre"},model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}}),a("b-form-select",{staticClass:"mt-2",attrs:{options:t.opcionesRol},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}}),a("b-form-input",{staticClass:"mt-2",attrs:{type:"email",placeholder:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("b-form-input",{staticClass:"mt-2",attrs:{type:"password",placeholder:"contraseña",state:t.passwordLength()},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-form-input",{staticClass:"mt-2",attrs:{type:"password",placeholder:"validar contraseña",state:t.passwordMatch()},model:{value:t.validatePassword,callback:function(e){t.validatePassword=e},expression:"validatePassword"}})],1)],1)},n=[],c=(a("99af"),a("4160"),a("a15b"),a("d81d"),a("b64b"),a("07ac"),a("159b"),a("2909")),l=a("d0b9"),u=a("6aac"),m=a("4797"),d={data:function(){return{opcionesCategoria:[{value:"",text:"Selecciona una"},{value:"Agresion directa",text:"Agresión directa"},{value:"Violencia armada",text:"Violencia armada"},{value:"Situacion sospechosa",text:"Situación sospechosa"}],opcionesTipo:[{value:"",text:"Selecciona una"},{value:"Individual",text:"Individual"},{value:"Colectivo",text:"Colectivo"}],opcionesEntorno:[{value:"",text:"Selecciona una"},{value:"Rural",text:"Rural"},{value:"Cabecera municipal",text:"Cabecera municipal"},{value:"Centro poblado",text:"Centro poblado"}],opcionesEtnia:[{value:"",text:"Selecciona una"},{value:"Afrocolombiano, negro o palenquero",text:"Afrocolombiano, negro o palenquero"},{value:"Indigena",text:"Indígena"},{value:"Raizal",text:"Raizal"},{value:"Rom",text:"Rom"},{value:"Mestizo",text:"Mestizo"},{value:"Blanco",text:"Blanco"},{value:"Ninguna de las anteriores",text:"Ninguna de las anteriores"}],opcionesSexo:[{value:"",text:"Selecciona una"},{value:"Mujer",text:"Mujer"},{value:"Hombre",text:"Hombre"},{value:"Intersexual",text:"Intersexual"}],opcionesIdentidad:[{value:"",text:"Selecciona una"},{value:"Si",text:"Sí"},{value:"No",text:"No"},{value:"Sin informacion",text:"Sin información"}],opcionesVictimas:[{value:"",text:"Selecciona una"},{value:"Si",text:"Sí"},{value:"No",text:"No"}],opcionesMedidas:[{value:"",text:"Selecciona una"},{value:"Sin informacion",text:"Sin información"},{value:"Solicitada: en tramite",text:"Solicitada: en trámite"},{value:"Solicitada: negada",text:"Solicitada: negada"},{value:"Solicitada: otorgada",text:"Solicitada: otorgada"},{value:"Levantada",text:"Levantada"}],opcionesSubcategoria:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Abuso sexual"},{value:"1",text:"Accidente o incidente con minas antipersona o municiones sin explotar"},{value:"2",text:"Actos contra los derechos reproductivos"},{value:"3",text:"Actos contra los derechos sexuales"},{value:"4",text:"Amenazas"},{value:"5",text:"Ataque a bienes civiles"},{value:"6",text:"Ataque indiscriminado"},{value:"7",text:"Bloqueo de vías"},{value:"8",text:"Bombardeo"},{value:"9",text:"Confinamiento"},{value:"10",text:"Confrontación armada o combates"},{value:"11",text:"Control social"},{value:"12",text:"Desaparición forzada"},{value:"13",text:"Desnudez forzada"},{value:"14",text:"Desplazamiento forzado"},{value:"15",text:"Despojo de tierras y territorios"},{value:"16",text:"Detención arbitraria"},{value:"17",text:"Enamoramiento"},{value:"18",text:"Estigmatización"},{value:"19",text:"Explotación sexual"},{value:"20",text:"Extorsión"},{value:"21",text:"Homicidio"},{value:"22",text:"Feminicidio"},{value:"23",text:"Hostigamientos"},{value:"24",text:"Incursión de grupos armados"},{value:"25",text:"Lesiones"},{value:"26",text:"Ocupación de bienes civiles"},{value:"27",text:"Paro armado"},{value:"28",text:"Reclutamiento forzado"},{value:"29",text:"Secuestro"},{value:"30",text:"Tortura"},{value:"31",text:"Trata de personas"},{value:"32",text:"Uso o vinculación de niños, niñas y adolescentes"},{value:"33",text:"Violación"},{value:"34",text:"Violencia de pareja o intrafamilar"},{value:"35",text:"Otra"}],opcionesEtniaAfectados:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Afrocolombiano, negro o palenquero"},{value:"1",text:"Indígena"},{value:"2",text:"Raizal"},{value:"3",text:"Rom"},{value:"4",text:"Mestizo"},{value:"5",text:"Blanco"},{value:"6",text:"Ninguna de las anteriores"}],opcionesRol:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Autoridad espiritual / sabedor tradicional"},{value:"1",text:"Líder / esa organizativo"},{value:"2",text:"Familiar defensor / a"},{value:"3",text:"Líder / esa cultural"},{value:"4",text:"Etnoeducador"},{value:"5",text:"Partera"},{value:"6",text:"Otro"}],opcionesDiscapacidad:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Ninguna"},{value:"1",text:"Emocional (no puede relacionarse con otros)  "},{value:"2",text:"Motora (no puede moverse con facilidad)"},{value:"3",text:"Cognitiva (no puede aprender, razonar, pensar, hablar, facilmente)"},{value:"4",text:"Visual (no puede ver)"},{value:"5",text:"Auditiva (no puede oir)"}],opcionesAfectados:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Familia"},{value:"1",text:"Comunidad"},{value:"2",text:"Territorio"},{value:"3",text:"Organización"}],opcionesDerechos:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Gestionar la protección de otras personas o la propia"},{value:"1",text:"Asociarse u organizarse para la defensa de los derechos humanos"},{value:"2",text:"Reunirse o manifestarse pacíficamente"},{value:"3",text:"Recabar, obtener, recibir y poseer información sobre derechos humanos"},{value:"4",text:"Promover debates y principios nuevos sobre derechos humanos"},{value:"5",text:"Presentar ante insituciones públicas críticas o propuestas de mejora"},{value:"6",text:"Denunciar las políticas y acciones oficiales y a que se examinen estas denuncias"},{value:"7",text:"Ofrecer y prestar asistencia para defender los derechos humanos"},{value:"8",text:"Asistir a las audiencias, reuniones con insituciones, procedimientos y juicios públicos"},{value:"9",text:"Dirigirse sin barreras a las ONG y a comunicarse con ellas"},{value:"10",text:"Contar con recursos eficaces para la protección y defensa de los derechos humanos"},{value:"11",text:"Ejercer legitimamente la ocupación o profesión de defensor de derechos humanos"},{value:"12",text:"Obtener protección eficaz de las leyes nacionales al reaccionar u oponerse, por medios pacíficos, a actividades y actos, con inclusión de las omisiones, imputables a los Estados que causen violaciones de los derechos humanos"},{value:"13",text:"Solicitar, recibir y utilizar recursos con el objeto de proteger los derechos humanos"}],opcionesResponsables:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Fuerza pública"},{value:"1",text:"Grupo guerrillero"},{value:"2",text:"Grupo heredero del paramilitarismo"},{value:"3",text:"Grupo disidente de guerrillas"},{value:"4",text:"Grupo de seguridad privada"},{value:"5",text:"Desconocido"}],opcionesInstituciones:[{value:"",text:"Selecciona varias (Usa cmd o ctrl)"},{value:"0",text:"Policía"},{value:"1",text:"Ejército"},{value:"2",text:"Otras fuerzas militares"},{value:"3",text:"Defensoría del Pueblo"},{value:"4",text:"Unidad Nacional de Protección"},{value:"5",text:"Personería"},{value:"6",text:"Alcaldía (secretarías)"},{value:"7",text:"Comisaría o Inspección de Policia"},{value:"8",text:"Otra"}]}},methods:{getObjectTexts:function(t,e){if(!e)return"N/A";e=e.split(",");var a=void 0;if("opcionesSubcategoria"===t&&(a=this.opcionesSubcategoria),"opcionesEtniaAfectados"===t&&(a=this.opcionesEtniaAfectados),"opcionesRol"===t&&(a=this.opcionesRol),"opcionesDiscapacidad"===t&&(a=this.opcionesDiscapacidad),"opcionesAfectados"===t&&(a=this.opcionesAfectados),"opcionesDerechos"===t&&(a=this.opcionesDerechos),"opcionesResponsables"===t&&(a=this.opcionesResponsables),"opcionesInstituciones"===t&&(a=this.opcionesInstituciones),a){for(var i="",s=0;s<e.length;s++)i+=a[parseInt(e[s])+1].text.toLowerCase(),s<e.length-1&&(i+=" - ");return i}console.error(t+" is undefined")}}},p={mixins:[d],data:function(){return{email:null,password:null,validatePassword:null,displayName:null,role:null,opcionesRol:[{value:"",text:"Selecciona una"},{value:"defensor",text:"Defensor/a"},{value:"analista",text:"Analista"},{value:"admin",text:"Administrador"}]}},components:{BNavbar:l["a"],BModal:u["a"],BFormInput:m["a"]},methods:{onSignUp:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password,displayName:this.displayName,role:this.role}),this.cleanInput()},onSignIn:function(){this.$store.dispatch("signUserIn",{email:this.email,password:this.password}),this.cleanInput()},onSignOut:function(){this.$store.dispatch("signUserOut")},cleanInput:function(){this.email=null,this.password=null,this.validatePassword=null,this.role=null,this.displayName=null},changeView:function(t){this.$store.commit("SET_CURRENT_VIEW",t)},passwordLength:function(){return this.password&&this.password.length>6},passwordMatch:function(){return this.validatePassword&&this.password===this.validatePassword},csvExport:function(){var t=this.alertsItems(),e="data:text/csv;charset=utf-8,";e+=[Object.keys(t[0]).join(";")].concat(Object(c["a"])(t.map((function(t){return Object.values(t).join(";")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var a=encodeURI(e),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download","ALERTAS_RED_ANANSI.csv"),i.click()},alertsItems:function(){var t=this,e=[],a=JSON.parse(JSON.stringify(this.$store.getters.alerts));return a.forEach((function(a){a.attributes.fechaReporte=t.FormatAsDate(a.attributes.fechaReporte),a.attributes.fechaOcurrencia&&(a.attributes.fechaOcurrencia=t.FormatAsDate(a.attributes.fechaOcurrencia)),a.attributes.fechaValidacion&&(a.attributes.fechaValidacion=t.FormatAsDate(a.attributes.fechaValidacion)),a.attributes.subcategoriaEventoEnum&&(a.attributes.subcategoriaEventoEnum=t.getObjectTexts("opcionesSubcategoria",a.attributes.subcategoriaEventoEnum)),a.attributes.rolVictimaEnum&&(a.attributes.rolVictimaEnum=t.getObjectTexts("opcionesRol",a.attributes.rolVictimaEnum)),a.attributes.discapacidadEnum&&(a.attributes.discapacidadEnum=t.getObjectTexts("opcionesDiscapacidad",a.attributes.discapacidadEnum)),a.attributes.tipoResponsableEnum&&(a.attributes.tipoResponsableEnum=t.getObjectTexts("opcionesResponsables",a.attributes.tipoResponsableEnum)),a.attributes.afectadosEnum&&(a.attributes.afectadosEnum=t.getObjectTexts("opcionesAfectados",a.attributes.afectadosEnum)),a.attributes.etniaAfectadosEnum&&(a.attributes.etniaAfectadosEnum=t.getObjectTexts("opcionesEtniaAfectados",a.attributes.etniaAfectadosEnum)),a.attributes.derechosDDHEnum&&(a.attributes.derechosDDHEnum=t.getObjectTexts("opcionesDerechos",a.attributes.derechosDDHEnum)),a.attributes.institucionesEnum&&(a.attributes.institucionesEnum=t.getObjectTexts("opcionesInstituciones",a.attributes.institucionesEnum)),a.attributes.telefono&&(a.attributes.telefono=a.attributes.telefono.replace("whatsapp:","")),e.push(a.attributes)})),console.log("alert items ",e),e}},watch:{appError:function(t){t?this.$refs["error-modal"].show():this.$refs["error-modal"].hide()}},computed:{appError:function(){return this.$store.getters.appError},isUserAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user},userIsAdmin:function(){return this.isUserAuthenticated&&"admin"===this.$store.getters.user.role},userName:function(){return this.$store.getters.user?this.$store.getters.user.email:""}}},h=p,v=(a("c749"),a("2877")),b=Object(v["a"])(h,o,n,!1,null,"42bfbaa0",null),f=b.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{attrs:{fluid:"",id:"footer"}},[i("br"),i("b-row",{attrs:{"no-gutters":""}},[i("p",{staticClass:"text-light",attrs:{id:"disclaimer"}},[t._v(" Disclaimer: Lorem ipsum dolor sit amet consectetur adipiscing elit, curabitur nam nulla habitant porttitor lacinia et nascetur, habitasse praesent magna etiam odio suscipit. Urna ante taciti ultrices parturient, vitae velit magna, vel cras porttitor. Montes porttitor hendrerit netus sollicitudin rutrum elementum purus platea donec aptent, erat arcu aliquet class ridiculus magna neque magnis dui himenaeos in, tristique volutpat primis iaculis mus rhoncus interdum nisl luctus. ")])]),i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{attrs:{sm:"12",md:"3"}},[i("div",{attrs:{id:"logo"}},[i("img",{staticClass:"img-fluid",attrs:{src:a("ee1e")}})])]),i("b-col",{attrs:{sm:"12",md:"3"}},[i("div",{attrs:{id:"logo"}},[i("img",{staticClass:"img-fluid",attrs:{src:a("dac9")}})])]),i("b-col",{attrs:{sm:"12",md:"3"}},[i("div",{attrs:{id:"logo"}},[i("img",{staticClass:"img-fluid",attrs:{src:a("b29f")}})])]),i("b-col",{attrs:{sm:"12",md:"3"}},[i("div",{attrs:{id:"logo"}},[i("img",{staticClass:"img-fluid",attrs:{src:a("f121")}})])])],1)],1)},E=[],x={components:{},data:function(){return{}}},F=x,w=(a("6b9b"),Object(v["a"])(F,g,E,!1,null,"07a7575e",null)),O=w.exports,V={name:"App",components:{NavBar:f,Footer:O}},C=V,y=(a("034f"),Object(v["a"])(C,s,r,!1,null,null,null)),D=y.exports,A=a("59ca"),k=(a("ea7b"),a("7db0"),a("2f62")),_=a("2ef0"),S=a.n(_),R=a("af87");i["default"].use(k["a"]);var T=new k["a"].Store({state:{alerts:R["Object"],user:null,newUser:null,arcgisToken:String,currentView:"map",appError:String},getters:{currentView:function(t){return t.currentView},user:function(t){return t.user},arcgisToken:function(t){return t.arcgisToken},alerts:function(t){return t.alerts},appError:function(t){return t.appError},alertById:function(t){return function(e){return S.a.find(t.alerts,{attributes:{idAlerta:e}})}}},mutations:{SET_USER:function(t,e){this.state.user=e,this.state.user&&this.state.newUser&&(A["auth"]().currentUser.updateProfile({photoURL:this.state.newUser.role,displayName:this.state.newUser.displayName}),this.state.user.role=this.state.newUser.role,this.state.user.displayName=this.state.newUser.displayName,this.state.newUser=null)},SET_ALERTS:function(t,e){this.state.alerts=e},SET_ARCGIS_TOKEN:function(t,e){this.state.arcgisToken=e},SET_CURRENT_VIEW:function(t,e){this.state.currentView=e},SET_APP_ERROR:function(t,e){var a=this;return console.error("App Error",e),this.state.appError=e,new Promise((function(){setTimeout((function(){a.state.appError=null}),5e3)}))}},actions:{signUserOut:function(){A["auth"]().signOut().catch((function(t){console.error("Error signing out"+t)}))},signUserIn:function(t,e){var a=this;A["auth"]().signInWithEmailAndPassword(e.email,e.password).catch((function(t){return console.error("Error signing in",t),a.state.appError=t,new Promise((function(){setTimeout((function(){a.state.appError=null}),5e3)}))}))},signUserUp:function(t,e){var a={displayName:e.displayName,role:e.role};this.state.newUser=a,A["auth"]().createUserWithEmailAndPassword(e.email,e.password).catch((function(t){console.error("Error signing up"+t)}))}}}),H=a("bc3a"),P=a.n(H),j=a("a7fe"),N=a.n(j),I=a("b1e0"),M=a("5f5b"),B=a("4452"),U=a.n(B),L=a("ea7f"),$=a.n(L),z=a("5671"),q=a.n(z),G=(a("f9e3"),a("2dd8"),a("fa85"),a("8c4f")),Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("web-map",{directives:[{name:"show",rawName:"v-show",value:t.mapSelected,expression:"mapSelected"}]}),a("feed-chart",{directives:[{name:"show",rawName:"v-show",value:t.statsSelected,expression:"statsSelected"}]}),a("alerts-table",{directives:[{name:"show",rawName:"v-show",value:t.tableSelected,expression:"tableSelected"}]})],1)},J=[],W=(a("96cf"),a("1da1")),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"root"}},[a("b-button",{attrs:{id:"municipiosButton",squared:"",block:"",pressed:t.municipiosVisible,variant:"warning"},on:{"update:pressed":function(e){t.municipiosVisible=e}}},[t._v(" "+t._s(t.setButtonText())+" ")]),a("div",{attrs:{id:"mapDiv"}},[t.mapLoading?a("div",{staticClass:"text-center"},[a("b-spinner",{attrs:{variant:"secondary"}})],1):t._e()])],1)},Y=[],Z=a("3835"),X=a("afaa"),tt=a("1947"),et={name:"web-map",components:{BButton:tt["a"]},data:function(){return{municipiosVisible:!1,mapLoading:!0}},computed:Object(k["b"])(["arcgisToken"]),watch:{arcgisToken:function(t){this.drawMap(t)},municipiosVisible:function(){this.view.map.findLayerById("municipios").visible=!this.view.map.findLayerById("municipios").visible}},methods:{setButtonText:function(){return this.municipiosVisible?"MOSTRAR MUNICIPIOS PDET":"OCULTAR MUNICIPIOS PDET"},gotTo:function(t){var e={duration:1e3};this.view.goTo({target:t,zoom:10},e)},drawMap:function(t){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function a(){var i,s,r,o,n,c,l,u,m,d,p,h,v;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(X["loadModules"])(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/identity/IdentityManager"],{css:!0});case 2:i=a.sent,s=Object(Z["a"])(i,4),r=s[0],o=s[1],n=s[2],c=s[3],c.registerToken({server:"https://services7.arcgis.com/AGOpm0AOkNTcqxqa/arcgis/rest/services/alertas/FeatureServer",token:t}),l=new r({basemap:"gray-vector"}),e.view=new o({container:"mapDiv",map:l,center:[-76.781506677246,5.994406584410996],zoom:6}),u={type:"simple",symbol:{type:"picture-marker",url:"https://image.flaticon.com/icons/svg/2937/2937077.svg",width:"18px",height:"18px"}},m={symbol:{type:"text",color:"#545550",haloColor:"#545550",haloSize:"0px",font:{size:"12px",family:"Noto Sans",style:"italic",weight:"normal"}},labelPlacement:"below-center",labelExpressionInfo:{expression:"$feature.municipio"}},d=new n({url:"https://services7.arcgis.com/AGOpm0AOkNTcqxqa/arcgis/rest/services/municipios_subregion_choco/FeatureServer/0",renderer:u,labelingInfo:m,id:"municipios"}),l.add(d),p={type:"simple",symbol:{type:"picture-marker",url:"https://image.flaticon.com/icons/svg/497/497738.svg",width:"25px",height:"25px"}},h={title:"{tipoEvento}",content:"<b>Categoría:</b> {categoria}"},v=new n({url:"https://services7.arcgis.com/AGOpm0AOkNTcqxqa/arcgis/rest/services/alertas/FeatureServer",renderer:p,outFields:["tipoEvento","categoriaEvento"],popupTemplate:h,id:"alertas"}),l.add(v),e.mapLoading=!1;case 20:case"end":return a.stop()}}),a)})))()}},beforeDestroy:function(){this.view&&(this.view.container=null)}},at=et,it=(a("df03"),Object(v["a"])(at,K,Y,!1,null,"47a0a13a",null)),st=it.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table"}},[a("b-table",{attrs:{responsive:"","sticky-header":"750px",striped:"",hover:"",light:"",items:this.getItems(),fields:this.getFields()},scopedSlots:t._u([{key:"cell(relatoQue)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(relatoQuien)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(relatoComo)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(relatoCuando)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(relatoDonde)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(situacionActual)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(primerMensaje)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(recibeLlamada)",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(botonVerificar)",fn:function(e){return[t.userCanVerify?a("b-button",{staticClass:"mr-2",attrs:{size:"sm",to:e.value,variant:"warning"}},[t._v("Verificar")]):t._e()]}}])})],1)},ot=[],nt=a("29a1"),ct={mixins:[d],components:{BTable:nt["a"]},data:function(){return{selectedAlert:{}}},methods:{getFields:function(){var t=[{key:"fechaReporte",tdClass:"w-5",label:"Ingresó al sistema",sortable:!0},{key:"verificado",tdClass:"w-5",label:"Verificado por analista",sortable:!0},{key:"fechaOcurrencia",tdClass:"w-5",label:"Fecha de ocurrencia"},{key:"departamentoOcurrencia",tdClass:"w-5",label:"Departamento"},{key:"municipioOcurrencia",tdClass:"w-3",label:"Municipio"},{key:"entornoOcurrencia",tdClass:"w-3",label:"Entorno"},{key:"tipoEvento",tdClass:"w-5",label:"Tipo de evento"},{key:"categoriaEvento",tdClass:"w-5",label:"Categoría"},{key:"subcategoriaEventoEnum",tdClass:"w-5",label:"Subcategoría"},{key:"etniaVictima",tdClass:"w-5",label:"Pertenencia Étnica"},{key:"rolVictimaEnum",tdClass:"w-5",label:"Rol"},{key:"discapacidadEnum",tdClass:"w-5",label:"Discapacidad"},{key:"sexo",tdClass:"w-3",label:"Sexo"},{key:"identidadGenero",tdClass:"w-3",label:"Genero"},{key:"edadVictima",tdClass:"w-5",label:"Edad"},{key:"medidasProteccionExistentes",tdClass:"w-5",label:"Medidas de protección"},{key:"otrasVictimas",tdClass:"w-5",label:"Otras victimas"},{key:"totalVictimas",tdClass:"w-5",label:"Número total de víctimas"},{key:"otrasVictimasNombres",tdClass:"w-5",label:"Nombres otras víctimas"},{key:"relacionVictima",tdClass:"w-5",label:"Relación con la víctima principal"},{key:"afectadosEnum",tdClass:"w-3",label:"Tipo de sujeto afectado"},{key:"familias",tdClass:"w-3",label:"Número de familias"},{key:"numeroPersonas",tdClass:"w-5",label:"Número de personas"},{key:"derechosDDHEnum",tdClass:"w-5",label:"Derechos límitados"},{key:"tipoResponsableEnum",tdClass:"w-5",label:"Tipo de presunto responsable"}];if("sensitive"==this.userAccess||"private"==this.userAccess){var e=[{key:"primerMensaje",tdClass:"w-5",label:"Primer mensaje"},{key:"puedeReportar",tdClass:"w-5",label:"Puede reportar"},{key:"relatoQue",tdClass:"w-5",label:"Qué"},{key:"relatoQuien",tdClass:"w-5",label:"Quién"},{key:"relatoDonde",tdClass:"w-3",label:"Dónde"},{key:"relatoCuando",tdClass:"w-3",label:"Cuándo"},{key:"relatoComo",tdClass:"w-5",label:"Como"},{key:"situacionActual",tdClass:"w-5",label:"Situación actual"},{key:"recibeLlamada",tdClass:"w-5",label:"Puede recibir llamada"},{key:"fechaValidacion",tdClass:"w-5",label:"Fecha de validación"},{key:"territorioColectivo",tdClass:"w-5",label:"Territorio colectivo"},{key:"barrio",tdClass:"w-5",label:"Barrio"},{key:"presuntoResponsable",tdClass:"w-5",label:"Presunto responsable"},{key:"situacionAsociada",tdClass:"w-5",label:"Situación asociada"},{key:"accionesMitigacion",tdClass:"w-5",label:"Acciones de mitigación"},{key:"riesgoPercibido",tdClass:"w-5",label:"Riesgo percibido"},{key:"institucionesEnum",tdClass:"w-3",label:"Instituciones informadas"}];Array.prototype.push.apply(t,e)}if("private"==this.userAccess){var a=[{key:"telefono",tdClass:"w-5",label:"Teléfono"},{key:"codigoAnansi",tdClass:"w-5",label:"Código ANANSI"},{key:"nombreVictima",tdClass:"w-5",label:"Nombre de víctima"},{key:"completado",tdClass:"w-5",label:"Alerta completada"}];Array.prototype.push.apply(t,a)}return Array.prototype.push.apply(t,[{key:"botonVerificar",tdClass:"w-5",label:""}]),t},getItems:function(){var t=this.$store.getters.alerts,e=[];if(void 0!=t&&t.length>1)for(var a=0;a<t.length;a++)"private"==this.userAccess?e.push(this.getPrivateItems(t[a].attributes)):"sensitive"==this.userAccess?e.push(this.getSensitiveItems(t[a].attributes)):e.push(this.getPublicItems(t[a].attributes));return e},getPublicItems:function(t){return{fechaReporte:this.FormatAsDate(t.fechaReporte),verificado:this.FormatForHuman(t.verificado),fechaOcurrencia:this.FormatAsDate(t.fechaOcurrencia),departamentoOcurrencia:this.FormatForHuman(t.departamentoOcurrencia),municipioOcurrencia:this.FormatForHuman(t.municipioOcurrencia),entornoOcurrencia:this.FormatForHuman(t.entornoOcurrencia),tipoEvento:this.FormatForHuman(t.tipoEvento),categoriaEvento:this.FormatForHuman(t.categoriaEvento),subcategoriaEventoEnum:this.getObjectTexts("opcionesSubcategoria",t.subcategoriaEventoEnum),etniaVictima:this.FormatForHuman(t.etniaVictima),rolVictimaEnum:this.getObjectTexts("opcionesRol",t.rolVictimaEnum),discapacidadEnum:this.getObjectTexts("opcionesDiscapacidad",t.discapacidadEnum),sexo:this.FormatForHuman(t.sexo),identidadGenero:this.FormatForHuman(t.identidadGenero),edadVictima:t.edadVictima,medidasProteccionExistentes:this.FormatForHuman(t.medidasProteccionExistentes),otrasVictimas:this.FormatForHuman(t.otrasVictimas),totalVictimas:t.totalVictimas,otrasVictimasNombres:this.FormatForHuman(t.otrasVictimasNombres),relacionVictima:this.FormatForHuman(t.relacionVictima),afectadosEnum:this.getObjectTexts("opcionesAfectados",t.afectadosEnum),familias:t.familias,numeroPersonas:t.numeroPersonas,derechosDDHEnum:this.getObjectTexts("opcionesDerechos",t.derechosDDHEnum),tipoResponsableEnum:this.getObjectTexts("opcionesResponsables",t.tipoResponsableEnum),botonVerificar:"/verify/"+t.idAlerta}},getSensitiveItems:function(t){return{fechaReporte:this.FormatAsDate(t.fechaReporte),verificado:this.FormatForHuman(t.verificado),fechaOcurrencia:this.FormatAsDate(t.fechaOcurrencia),departamentoOcurrencia:this.FormatForHuman(t.departamentoOcurrencia),municipioOcurrencia:this.FormatForHuman(t.municipioOcurrencia),entornoOcurrencia:this.FormatForHuman(t.entornoOcurrencia),tipoEvento:this.FormatForHuman(t.tipoEvento),categoriaEvento:this.FormatForHuman(t.categoriaEvento),subcategoriaEventoEnum:this.getObjectTexts("opcionesSubcategoria",t.subcategoriaEventoEnum),etniaVictima:this.FormatForHuman(t.etniaVictima),rolVictimaEnum:this.getObjectTexts("opcionesRol",t.rolVictimaEnum),discapacidadEnum:this.getObjectTexts("opcionesDiscapacidad",t.discapacidadEnum),sexo:this.FormatForHuman(t.sexo),identidadGenero:this.FormatForHuman(t.identidadGenero),edadVictima:t.edadVictima,medidasProteccionExistentes:this.FormatForHuman(t.medidasProteccionExistentes),otrasVictimas:this.FormatForHuman(t.otrasVictimas),totalVictimas:t.totalVictimas,otrasVictimasNombres:this.FormatForHuman(t.otrasVictimasNombres),relacionVictima:this.FormatForHuman(t.relacionVictima),afectadosEnum:this.getObjectTexts("opcionesAfectados",t.afectadosEnum),familias:t.familias,numeroPersonas:t.numeroPersonas,derechosDDHEnum:this.getObjectTexts("opcionesDerechos",t.derechosDDHEnum),tipoResponsableEnum:this.getObjectTexts("opcionesResponsables",t.tipoResponsableEnum),botonVerificar:"/verify/"+t.idAlerta,primerMensaje:this.FormatForHuman(t.primerMensaje),puedeReportar:this.FormatForHuman(t.puedeReportar),relatoQue:this.FormatForHuman(t.relatoQue),relatoQuien:this.FormatForHuman(t.relatoQuien),relatoComo:this.FormatForHuman(t.relatoComo),relatoCuando:this.FormatForHuman(t.relatoCuando),relatoDonde:this.FormatForHuman(t.relatoDonde),situacionActual:this.FormatForHuman(t.situacionActual),recibeLlamada:this.FormatForHuman(t.recibeLlamada),fechaValidacion:this.FormatAsDate(t.fechaValidacion),territorioColectivo:this.FormatForHuman(t.territorioColectivo),barrio:this.FormatForHuman(t.barrio),presuntoResponsable:this.FormatForHuman(t.presuntoResponsable),situacionAsociada:this.FormatForHuman(t.situacionAsociada),accionesMitigacion:this.FormatForHuman(t.accionesMitigacion),riesgoPercibido:this.FormatForHuman(t.riesgoPercibido),institucionesEnum:this.getObjectTexts("opcionesInstituciones",t.institucionesEnum)}},getPrivateItems:function(t){return{fechaReporte:this.FormatAsDate(t.fechaReporte),verificado:this.FormatForHuman(t.verificado),fechaOcurrencia:this.FormatAsDate(t.fechaOcurrencia),departamentoOcurrencia:this.FormatForHuman(t.departamentoOcurrencia),municipioOcurrencia:this.FormatForHuman(t.municipioOcurrencia),entornoOcurrencia:this.FormatForHuman(t.entornoOcurrencia),tipoEvento:this.FormatForHuman(t.tipoEvento),categoriaEvento:this.FormatForHuman(t.categoriaEvento),subcategoriaEventoEnum:this.getObjectTexts("opcionesSubcategoria",t.subcategoriaEventoEnum),etniaVictima:this.FormatForHuman(t.etniaVictima),rolVictimaEnum:this.getObjectTexts("opcionesRol",t.rolVictimaEnum),discapacidadEnum:this.getObjectTexts("opcionesDiscapacidad",t.discapacidadEnum),sexo:this.FormatForHuman(t.sexo),identidadGenero:this.FormatForHuman(t.identidadGenero),edadVictima:t.edadVictima,medidasProteccionExistentes:this.FormatForHuman(t.medidasProteccionExistentes),otrasVictimas:this.FormatForHuman(t.otrasVictimas),totalVictimas:t.totalVictimas,otrasVictimasNombres:this.FormatForHuman(t.otrasVictimasNombres),relacionVictima:this.FormatForHuman(t.relacionVictima),afectadosEnum:this.getObjectTexts("opcionesAfectados",t.afectadosEnum),familias:t.familias,numeroPersonas:t.numeroPersonas,derechosDDHEnum:this.getObjectTexts("opcionesDerechos",t.derechosDDHEnum),tipoResponsableEnum:this.getObjectTexts("opcionesResponsables",t.tipoResponsableEnum),botonVerificar:"/verify/"+t.idAlerta,primerMensaje:this.FormatForHuman(t.primerMensaje),puedeReportar:this.FormatForHuman(t.puedeReportar),relatoQue:this.FormatForHuman(t.relatoQue),relatoQuien:this.FormatForHuman(t.relatoQuien),relatoComo:this.FormatForHuman(t.relatoComo),relatoCuando:this.FormatForHuman(t.relatoCuando),relatoDonde:this.FormatForHuman(t.relatoDonde),situacionActual:this.FormatForHuman(t.situacionActual),recibeLlamada:this.FormatForHuman(t.recibeLlamada),fechaValidacion:this.FormatAsDate(t.fechaValidacion),territorioColectivo:this.FormatForHuman(t.territorioColectivo),barrio:this.FormatForHuman(t.barrio),presuntoResponsable:this.FormatForHuman(t.presuntoResponsable),situacionAsociada:this.FormatForHuman(t.situacionAsociada),accionesMitigacion:this.FormatForHuman(t.accionesMitigacion),riesgoPercibido:this.FormatForHuman(t.riesgoPercibido),institucionesEnum:this.getObjectTexts("opcionesInstituciones",t.institucionesEnum),telefono:this.FormatForHuman(t.telefono),codigoAnansi:this.FormatForHuman(t.codigoAnansi),nombreVictima:this.FormatForHuman(t.nombreVictima),completado:this.FormatForHuman(t.completado)}}},computed:{userCanVerify:function(){return"sensitive"==this.userAccess||"private"==this.userAccess},userAccess:function(){if(!this.$store.getters.user||!this.$store.getters.user.role)return"public";var t=this.$store.getters.user.role;return"admin"===t?"private":"defensor"===t||"analyst"===t?"sensitive":null}}},lt=ct,ut=(a("1fbe"),Object(v["a"])(lt,rt,ot,!1,null,"36fa0528",null)),mt=ut.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chartHolder"}},[a("chart",{attrs:{options:t.chartOptions,updateArgs:t.updateArgs}})],1)},pt=[],ht={components:{Chart:B["Chart"]},data:function(){return{numbers:[],updateArgs:[!0,!0,{duration:1e3}]}},watch:{alerts:function(t){this.drawChart(t)}},computed:{alerts:function(){return this.$store.getters.alerts},chartOptions:function(){return{chart:{type:"line"},title:{text:"Número de alertas reportadas durante la última semana"},yAxis:{title:{text:"# de alertas"}},xAxis:{type:"datetime",labels:{format:"{value:%m-%d}",rotation:0,align:"center"},text:"Días"},legend:{enabled:!1},series:[{data:this.numbers,pointStart:this.TodayPlusDays(-7),pointInterval:864e5,color:"#FF9914",name:"Alertas"}]}}},methods:{drawChart:function(t){if(t){this.numbers=[];var e=S.a.groupBy(t,(function(t){return new Date(t.attributes.fechaReporte).toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"})})),a=new Date;a.setDate(a.getDate()+1);for(var i=new Date(this.TodayPlusDays(-6));i<=a;i.setDate(i.getDate()+1))void 0!==e[i.toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"})]?this.numbers.push([e[i.toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"})].length]):this.numbers.push(0)}},TodayPlusDays:function(t){var e=new Date;return e.setDate(e.getDate()+t),Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}},mounted:function(){this.drawChart(this.$store.getters.alerts)}},vt=ht,bt=(a("7bc2"),Object(v["a"])(vt,dt,pt,!1,null,"7446cca8",null)),ft=bt.exports,gt=a("d4ec"),Et=a("bee2"),xt=function(){function t(){Object(gt["a"])(this,t)}return Object(Et["a"])(t,[{key:"getRequest",value:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e){var a,i,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},t.prev=1,this._cancelPreviousRequest(e),this._trackCurrentRequest(e),t.next=6,P.a.get(e,Object.assign({},a,{cancelToken:this.cancelToken.token}));case 6:return i=t.sent,t.abrupt("return",i.data&&i.data.items?i.data.items:i.data);case 10:if(t.prev=10,t.t0=t["catch"](1),!P.a.isCancel(t.t0)){t.next=15;break}t.next=16;break;case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"postRequest",value:function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(e,a){var i,s,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:{},t.prev=1,t.next=4,P.a.post(e,a,Object.assign({},i));case 4:return s=t.sent,t.abrupt("return",s.data&&s.data.items?s.data.items:s.data);case 8:t.prev=8,t.t0=t["catch"](1),console.log("ERROR "+t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,a){return t.apply(this,arguments)}return e}()}]),t}(),Ft=a("4328"),wt=a.n(Ft),Ot=new xt,Vt=new xt,Ct={getArcgisToken:function(){return Object(W["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=wt.a.stringify({grant_type:"client_credentials",client_id:"BEg1xjqGA67M79uz",client_secret:"4d3ad20dfef74e999b4d93795e51f769"}),a={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},t.next=4,Vt.postRequest("https://www.arcgis.com/sharing/rest/oauth2/token",e,a);case 4:return i=t.sent,t.abrupt("return",i.access_token);case 6:case"end":return t.stop()}}),t)})))()},getAlerts:function(t,e){return Object(W["a"])(regeneratorRuntime.mark((function a(){var i,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i="https://services7.arcgis.com/AGOpm0AOkNTcqxqa/arcgis/rest/services/alertas/FeatureServer/0/query?f=json&where=1=1&outSr=4326&outFields=fechaReporte, verificado, fechaOcurrencia, departamentoOcurrencia, municipioOcurrencia, entornoOcurrencia, tipoEvento, categoriaEvento, subCategoriaEventoEnum, subcategoriaEventoOtra, etniaVictima, rolVictimaEnum, rolVictimaOtro, discapacidadEnum, sexo,  identidadGenero, edadVictima, medidasProteccionExistentes, otrasVictimas, otrasVictimasNombres, totalVictimas, relacionVictima, tipoResponsableEnum, familias, numeroPersonas, afectadosEnum, etniaAfectadosEnum, derechosDDHEnum, idAlerta, OBJECTID","private"===e&&(i="https://services7.arcgis.com/AGOpm0AOkNTcqxqa/arcgis/rest/services/alertas/FeatureServer/0/query?f=json&where=1=1&outSr=4326&outFields=fechaReporte, verificado, fechaOcurrencia, departamentoOcurrencia, municipioOcurrencia, entornoOcurrencia, tipoEvento, categoriaEvento, subCategoriaEventoEnum, subcategoriaEventoOtra, etniaVictima, rolVictimaEnum, rolVictimaOtro, discapacidadEnum, sexo,  identidadGenero, edadVictima, medidasProteccionExistentes, otrasVictimas, otrasVictimasNombres, totalVictimas, relacionVictima, tipoResponsableEnum, familias, numeroPersonas, afectadosEnum, etniaAfectadosEnum, derechosDDHEnum, idAlerta, OBJECTID, primerMensaje, puedeReportar, relatoQue, relatoQuien, relatoComo, relatoCuando, relatoDonde, situacionActual, recibeLlamada, fechaValidacion, territorioColectivo, barrio, presuntoResponsable, situacionAsociada, accionesMitigacion, riesgoPercibido, institucionesEnum, institucionOtra, telefono, codigoAnansi, nombreVictima, perfilVictima, completado"),"sensitive"===e&&(i="https://services7.arcgis.com/AGOpm0AOkNTcqxqa/arcgis/rest/services/alertas/FeatureServer/0/query?f=json&where=1=1&outSr=4326&outFields=fechaReporte, verificado, fechaOcurrencia, departamentoOcurrencia, municipioOcurrencia, entornoOcurrencia, tipoEvento, categoriaEvento, subCategoriaEventoEnum, subcategoriaEventoOtra, etniaVictima, rolVictimaEnum, rolVictimaOtro, discapacidadEnum, sexo,  identidadGenero, edadVictima, medidasProteccionExistentes, otrasVictimas, otrasVictimasNombres, totalVictimas, relacionVictima, tipoResponsableEnum, familias, numeroPersonas, afectadosEnum, etniaAfectadosEnum, derechosDDHEnum, idAlerta, OBJECTID"),s={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},r=wt.a.stringify({token:t}),a.next=7,Ot.postRequest(i,r,s);case 7:return o=a.sent,a.abrupt("return",o);case 9:case"end":return a.stop()}}),a)})))()},verifyAlert:function(t){return Object(W["a"])(regeneratorRuntime.mark((function e(){var a,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=wt.a.stringify({grant_type:"client_credentials",client_id:"BEg1xjqGA67M79uz",client_secret:"4d3ad20dfef74e999b4d93795e51f769"}),i={"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},e.next=4,Vt.postRequest("https://www.arcgis.com/sharing/rest/oauth2/token",a,i);case 4:return s=e.sent,r=wt.a.stringify({f:"json",token:s.access_token,updates:t}),e.next=8,Ot.postRequest("https://services7.arcgis.com/AGOpm0AOkNTcqxqa/arcgis/rest/services/alertas/FeatureServer/0/applyEdits",r,i);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))()}},yt={name:"App",components:{WebMap:st,AlertsTable:mt,FeedChart:ft},watch:{userAccess:function(t){t&&this.alertsRequest()}},computed:{mapSelected:function(){return"map"===this.$store.getters.currentView},statsSelected:function(){return"statistics"===this.$store.getters.currentView},tableSelected:function(){return"table"===this.$store.getters.currentView},userAccess:function(){if(!this.$store.getters.user||!this.$store.getters.user.role)return"public";var t=this.$store.getters.user.role;return"admin"===t?"private":"defensor"===t||"analyst"===t?"sensitive":null}},methods:{tokenRequest:function(){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.getArcgisToken();case 2:if(a=e.sent,a){e.next=6;break}return console.error("Arcgis token is null"),e.abrupt("return");case 6:t.$store.commit("SET_ARCGIS_TOKEN",a),t.alertsRequest();case 8:case"end":return e.stop()}}),e)})))()},alertsRequest:function(){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.getAlerts(t.$store.getters.arcgisToken,t.userAccess);case 2:if(a=e.sent,a){e.next=6;break}return console.error("Alerts response is null"),e.abrupt("return");case 6:t.$store.commit("SET_ALERTS",a.features);case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.tokenRequest()}},Dt=yt,At=(a("8b71"),Object(v["a"])(Dt,Q,J,!1,null,null,null)),kt=At.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:"",id:"form"}},[a("div",{staticClass:"mt-3"},[a("h4",[t._v("Alerta")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Id Alerta:")]),a("p",[t._v(t._s(this.alert.attributes.idAlerta))])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Código ANANSI:")]),a("p",[t._v(t._s(this.alert.attributes.codigoAnansi))])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Teléfono:")]),a("p",[t._v(t._s(this.alert.attributes.telefono))])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Puede reportar:")]),a("p",[t._v(t._s(t.FormatForHuman(this.alert.attributes.puedeReportar)))])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Cómo pasó:")]),a("p",[a("span",{domProps:{innerHTML:t._s(t.FormatForHuman(this.alert.attributes.relatoComo))}})])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Situación actual:")]),a("p",[a("span",{domProps:{innerHTML:t._s(t.FormatForHuman(this.alert.attributes.situacionActual))}})])])]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Cuándo pasó:")]),a("p",[a("span",{domProps:{innerHTML:t._s(t.FormatForHuman(this.alert.attributes.relatoCuando))}})])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Primer mensaje:")]),a("p",[a("span",{domProps:{innerHTML:t._s(t.FormatForHuman(this.alert.attributes.primerMensaje))}})])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Qué pasó:")]),a("p",[a("span",{domProps:{innerHTML:t._s(t.FormatForHuman(this.alert.attributes.relatoQue))}})])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Dónde pasó:")]),a("p",[a("span",{domProps:{innerHTML:t._s(t.FormatForHuman(this.alert.attributes.relatoDonde))}})])]),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Recibe llamada:")]),a("p",[a("span",{domProps:{innerHTML:t._s(t.FormatForHuman(this.alert.attributes.recibeLlamada))}})])])])],1),a("hr"),a("div",{staticClass:"mt-3"},[a("h4",[t._v("Tiempo")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Fecha reporte:")]),a("p",[t._v(t._s(t.FormatAsDate(this.alert.attributes.fechaReporte)))])]),a("div",{staticClass:"mt-3 mb-3"},[a("h6",[t._v("Fecha de validacion:")]),a("b-form-datepicker",{attrs:{id:"datepicker",state:t.lengthState(t.FormatAsDate(t.fechaValidacion)),placeholder:t.FormatAsDate(this.fechaValidacion)},model:{value:t.fechaValidacion,callback:function(e){t.fechaValidacion=e},expression:"fechaValidacion"}})],1)]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Fecha de ocurrencia:")]),a("b-form-datepicker",{attrs:{id:"datepicker",state:t.lengthState(this.fechaOcurrencia),placeholder:t.FormatAsDate(this.fechaOcurrencia)},model:{value:t.fechaOcurrencia,callback:function(e){t.fechaOcurrencia=e},expression:"fechaOcurrencia"}})],1)])],1),a("hr"),a("div",{staticClass:"mt-3"},[a("h4",[t._v("Lugar")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Departamento ocurrencia:")]),a("b-form-input",{attrs:{state:t.lengthState(t.departamentoOcurrencia),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.departamentoOcurrencia,callback:function(e){t.departamentoOcurrencia=e},expression:"departamentoOcurrencia"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Municipio ocurrencia:")]),a("b-form-input",{attrs:{state:t.lengthState(t.municipioOcurrencia),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.municipioOcurrencia,callback:function(e){t.municipioOcurrencia=e},expression:"municipioOcurrencia"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Entorno de ocurrencia: "+t._s(t.FormatForm(this.entornoOcurrencia)))]),a("b-form-select",{attrs:{options:this.opcionesEntorno,state:t.lengthState(t.entornoOcurrencia)},model:{value:t.entornoOcurrencia,callback:function(e){t.entornoOcurrencia=e},expression:"entornoOcurrencia"}})],1)]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Territorio colectivo:")]),a("b-form-input",{attrs:{state:t.lengthState(t.territorioColectivo),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.territorioColectivo,callback:function(e){t.territorioColectivo=e},expression:"territorioColectivo"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Barrio:")]),a("b-form-input",{attrs:{state:t.lengthState(t.barrio),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.barrio,callback:function(e){t.barrio=e},expression:"barrio"}})],1)])],1),a("hr"),a("div",{staticClass:"mt-3"},[a("h4",[t._v("Evento")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Subcategoría:")]),a("b-form-select",{attrs:{options:this.opcionesSubcategoria,multiple:"","select-size":10,state:t.lengthState(t.subcategoriaEventoEnum)},model:{value:t.subcategoriaEventoEnum,callback:function(e){t.subcategoriaEventoEnum=e},expression:"subcategoriaEventoEnum"}})],1)]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("¿Otra subcategoría? ¿cuál?: ")]),a("b-form-input",{attrs:{"aria-describedby":"input-live-feedback",placeholder:"opcional",trim:""},model:{value:t.subcategoriaEventoOtra,callback:function(e){t.subcategoriaEventoOtra=e},expression:"subcategoriaEventoOtra"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Categoría: "+t._s(t.FormatForm(this.categoriaEvento)))]),a("b-form-select",{attrs:{options:this.opcionesCategoria,state:t.lengthState(t.categoriaEvento)},model:{value:t.categoriaEvento,callback:function(e){t.categoriaEvento=e},expression:"categoriaEvento"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Tipo de evento: "+t._s(t.FormatForm(this.tipoEvento)))]),a("b-form-select",{attrs:{options:this.opcionesTipo,state:t.lengthState(t.tipoEvento),placeholder:this.tipoEvento},model:{value:t.tipoEvento,callback:function(e){t.tipoEvento=e},expression:"tipoEvento"}})],1)])],1),a("hr"),a("div",{staticClass:"mt-3"},[a("h4",[t._v("Víctimas")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Nombre Víctima:")]),a("b-form-input",{attrs:{state:t.lengthState(t.nombreVictima),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.nombreVictima,callback:function(e){t.nombreVictima=e},expression:"nombreVictima"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Edad Víctima:")]),a("b-form-input",{attrs:{state:t.lengthState(t.edadVictima),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.edadVictima,callback:function(e){t.edadVictima=e},expression:"edadVictima"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("¿Tiene discapacidad?:")]),a("b-form-select",{attrs:{options:this.opcionesDiscapacidad,multiple:"","select-size":3,state:t.lengthState(t.discapacidadEnum)},model:{value:t.discapacidadEnum,callback:function(e){t.discapacidadEnum=e},expression:"discapacidadEnum"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Sexo: "+t._s(t.FormatForm(this.sexo)))]),a("b-form-select",{attrs:{options:this.opcionesSexo,state:t.lengthState(t.sexo)},model:{value:t.sexo,callback:function(e){t.sexo=e},expression:"sexo"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Perfil de la víctima:")]),a("b-form-input",{attrs:{state:t.lengthState(t.perfilVictima),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.perfilVictima,callback:function(e){t.perfilVictima=e},expression:"perfilVictima"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Otras víctimas: "+t._s(t.FormatForm(this.otrasVictimas)))]),a("b-form-select",{attrs:{options:this.opcionesVictimas,state:t.lengthState(t.otrasVictimas)},model:{value:t.otrasVictimas,callback:function(e){t.otrasVictimas=e},expression:"otrasVictimas"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Relación con la víctima:")]),a("b-form-input",{attrs:{state:t.lengthState(t.relacionVictima),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.relacionVictima,callback:function(e){t.relacionVictima=e},expression:"relacionVictima"}})],1)]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Pertenencia étnica: "+t._s(t.FormatForm(this.etniaVictima)))]),a("b-form-select",{attrs:{options:this.opcionesEtnia,state:t.lengthState(t.etniaVictima)},model:{value:t.etniaVictima,callback:function(e){t.etniaVictima=e},expression:"etniaVictima"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Rol de víctima:")]),a("b-form-select",{attrs:{options:this.opcionesRol,multiple:"","select-size":3,state:t.lengthState(t.rolVictimaEnum)},model:{value:t.rolVictimaEnum,callback:function(e){t.rolVictimaEnum=e},expression:"rolVictimaEnum"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("¿Otro rol? ¿cuál?:")]),a("b-form-input",{attrs:{placeholder:"Opcional",trim:""},model:{value:t.rolVictimaOtro,callback:function(e){t.rolVictimaOtro=e},expression:"rolVictimaOtro"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Identidad de género: "+t._s(t.FormatForm(this.identidadGenero)))]),a("b-form-select",{attrs:{options:this.opcionesIdentidad,state:t.lengthState(t.identidadGenero)},model:{value:t.identidadGenero,callback:function(e){t.identidadGenero=e},expression:"identidadGenero"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Medidas de protección existentes: "+t._s(t.FormatForm(this.medidasProteccionExistentes)))]),a("b-form-select",{attrs:{options:this.opcionesMedidas,state:t.lengthState(t.medidasProteccionExistentes)},model:{value:t.medidasProteccionExistentes,callback:function(e){t.medidasProteccionExistentes=e},expression:"medidasProteccionExistentes"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Total víctimas:")]),a("b-form-input",{attrs:{state:t.lengthState(t.totalVictimas),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.totalVictimas,callback:function(e){t.totalVictimas=e},expression:"totalVictimas"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Nombres de otras víctimas:")]),a("b-form-input",{attrs:{state:t.lengthState(t.otrasVictimasNombres),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.otrasVictimasNombres,callback:function(e){t.otrasVictimasNombres=e},expression:"otrasVictimasNombres"}})],1)])],1),a("hr"),a("div",{staticClass:"mt-3"},[a("h4",[t._v("Afectación")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Tipo de sujeto afectado:")]),a("b-form-select",{attrs:{options:this.opcionesAfectados,multiple:"","select-size":3,state:t.lengthState(t.afectadosEnum)},model:{value:t.afectadosEnum,callback:function(e){t.afectadosEnum=e},expression:"afectadosEnum"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("No. de familias afectadas:")]),a("b-form-input",{attrs:{state:t.lengthState(t.familias),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.familias,callback:function(e){t.familias=e},expression:"familias"}})],1)]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Pertenencia étnica de afectados:")]),a("b-form-select",{attrs:{options:this.opcionesEtniaAfectados,multiple:"","select-size":3,state:t.lengthState(t.etniaAfectadosEnum)},model:{value:t.etniaAfectadosEnum,callback:function(e){t.etniaAfectadosEnum=e},expression:"etniaAfectadosEnum"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("No. de personas afectadas:")]),a("b-form-input",{attrs:{state:t.lengthState(t.numeroPersonas),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.numeroPersonas,callback:function(e){t.numeroPersonas=e},expression:"numeroPersonas"}})],1)])],1),a("b-row",[a("div",{staticClass:"m-3"},[a("h6",[t._v("Derechos límitados:")]),a("b-form-select",{attrs:{options:this.opcionesDerechos,multiple:"","select-size":10,state:t.lengthState(t.derechosDDHEnum)},model:{value:t.derechosDDHEnum,callback:function(e){t.derechosDDHEnum=e},expression:"derechosDDHEnum"}})],1)]),a("hr"),a("div",{staticClass:"mt-3"},[a("h4",[t._v("Agresión")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Tipo de presunto responsable:")]),a("b-form-select",{attrs:{options:this.opcionesResponsables,multiple:"","select-size":5,state:t.lengthState(t.tipoResponsableEnum)},model:{value:t.tipoResponsableEnum,callback:function(e){t.tipoResponsableEnum=e},expression:"tipoResponsableEnum"}})],1)]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Presunto responsable:")]),a("b-form-input",{attrs:{state:t.lengthState(t.presuntoResponsable),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.presuntoResponsable,callback:function(e){t.presuntoResponsable=e},expression:"presuntoResponsable"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Situación asociada:")]),a("b-form-input",{attrs:{state:t.lengthState(t.situacionAsociada),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.situacionAsociada,callback:function(e){t.situacionAsociada=e},expression:"situacionAsociada"}})],1)])],1),a("hr"),a("div",{staticClass:"mt-3"},[a("h4",[t._v("Capacidad")])]),a("b-row",[a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("Instituciones Informadas:")]),a("b-form-select",{attrs:{options:this.opcionesInstituciones,multiple:"","select-size":10,state:t.lengthState(t.institucionesEnum)},model:{value:t.institucionesEnum,callback:function(e){t.institucionesEnum=e},expression:"institucionesEnum"}})],1)]),a("b-col",[a("div",{staticClass:"mt-3"},[a("h6",[t._v("¿Otra institución? ¿cuál?")]),a("b-form-input",{attrs:{"aria-describedby":"input-live-feedback",placeholder:"Opcional",trim:""},model:{value:t.institucionOtra,callback:function(e){t.institucionOtra=e},expression:"institucionOtra"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Acciones de mitigación:")]),a("b-form-input",{attrs:{state:t.lengthState(t.accionesMitigacion),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.accionesMitigacion,callback:function(e){t.accionesMitigacion=e},expression:"accionesMitigacion"}})],1),a("div",{staticClass:"mt-3"},[a("h6",[t._v("Riesgo percibido:")]),a("b-form-input",{attrs:{state:t.lengthState(t.riesgoPercibido),"aria-describedby":"input-live-feedback",trim:""},model:{value:t.riesgoPercibido,callback:function(e){t.riesgoPercibido=e},expression:"riesgoPercibido"}})],1),a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[t._v(" Máximo 256 carácteres ")])],1)],1),a("b-button",{staticClass:"text-light mt-5 mb-3",attrs:{size:"lg",variant:"warning",block:""},on:{click:this.validate}},[t._v("Guardar")])],1)},St=[],Rt=(a("a4d3"),a("e01a"),{mixins:[d],data:function(){return{alert:Object,fechaOcurrencia:"",fechaValidacion:"",departamentoOcurrencia:"",municipioOcurrencia:"",entornoOcurrencia:"",territorioColectivo:"",barrio:"",tipoEvento:"",categoriaEvento:"",subcategoriaEventoEnum:[],subcategoriaEventoOtra:"",nombreVictima:"",edadVictima:"",etniaVictima:"",rolVictimaEnum:[],rolVictimaOtro:"",discapacidadEnum:[],sexo:"",identidadGenero:"",perfilVictima:"",medidasProteccionExistentes:"",otrasVictimas:"",totalVictimas:"",otrasVictimasNombres:"",relacionVictima:"",afectadosEnum:[],familias:"",numeroPersonas:"",etniaAfectadosEnum:[],derechosDDHEnum:[],tipoResponsableEnum:[],presuntoResponsable:"",situacionAsociada:"",accionesMitigacion:"",riesgoPercibido:"",institucionesEnum:[],institucionOtra:""}},methods:{fillForm:function(){this.fechaOcurrencia=this.validateData(this.alert.attributes.fechaOcurrencia.toString()),this.fechaValidacion=this.validateData(this.alert.attributes.fechaValidacion.toString()),this.departamentoOcurrencia=this.validateData(this.alert.attributes.departamentoOcurrencia),this.municipioOcurrencia=this.validateData(this.alert.attributes.municipioOcurrencia),this.entornoOcurrencia=this.validateData(this.alert.attributes.entornoOcurrencia),this.territorioColectivo=this.validateData(this.alert.attributes.territorioColectivo),this.barrio=this.validateData(this.alert.attributes.barrio),this.tipoEvento=this.validateData(this.alert.attributes.tipoEvento),this.categoriaEvento=this.validateData(this.alert.attributes.categoriaEvento),this.subcategoriaEventoEnum=this.validateData(this.alert.attributes.subcategoriaEventoEnum,!0),this.subcategoriaEventoOtra=this.validateData(this.alert.attributes.subcategoriaEventoOtra),this.nombreVictima=this.validateData(this.alert.attributes.nombreVictima),this.edadVictima=this.validateData(this.alert.attributes.edadVictima),this.etniaVictima=this.validateData(this.alert.attributes.etniaVictima),this.rolVictimaEnum=this.validateData(this.alert.attributes.rolVictimaEnum,!0),this.rolVictimaOtro=this.validateData(this.alert.attributes.rolVictimaOtro),this.discapacidadEnum=this.validateData(this.alert.attributes.discapacidadEnum,!0),this.sexo=this.validateData(this.alert.attributes.sexo),this.identidadGenero=this.validateData(this.alert.attributes.identidadGenero),this.perfilVictima=this.validateData(this.alert.attributes.perfilVictima),this.medidasProteccionExistentes=this.validateData(this.alert.attributes.medidasProteccionExistentes),this.otrasVictimas=this.validateData(this.alert.attributes.otrasVictimas),this.totalVictimas=this.validateData(this.alert.attributes.totalVictimas),this.otrasVictimasNombres=this.validateData(this.alert.attributes.otrasVictimasNombres),this.relacionVictima=this.validateData(this.alert.attributes.relacionVictima),this.afectadosEnum=this.validateData(this.alert.attributes.afectadosEnum,!0),this.familias=this.validateData(this.alert.attributes.familias),this.numeroPersonas=this.validateData(this.alert.attributes.numeroPersonas),this.etniaAfectadosEnum=this.validateData(this.alert.attributes.etniaAfectadosEnum,!0),this.derechosDDHEnum=this.validateData(this.alert.attributes.derechosDDHEnum,!0),this.tipoResponsableEnum=this.validateData(this.alert.attributes.tipoResponsableEnum,!0),this.presuntoResponsable=this.validateData(this.alert.attributes.presuntoResponsable),this.situacionAsociada=this.validateData(this.alert.attributes.situacionAsociada),this.accionesMitigacion=this.validateData(this.alert.attributes.accionesMitigacion),this.riesgoPercibido=this.validateData(this.alert.attributes.riesgoPercibido),this.institucionesEnum=this.validateData(this.alert.attributes.institucionesEnum,!0),this.institucionOtra=this.validateData(this.alert.attributes.institucionOtra)},validateData:function(t,e){return e?t?t.split(","):[]:t?this.FormatForm(t):""},lengthState:function(t){return!t||!(t.length>256)&&!(t.length<=0)},wrapAlert:function(){var t='[{ "attributes" : {';return t+='"OBJECTID":"'+this.alert.attributes.OBJECTID+'",',t+='"verificado":"True",',t+='"fechaOcurrencia":"'+this.FormatDateForDB(this.fechaOcurrencia)+'",',t+='"fechaValidacion":"'+this.FormatDateForDB(this.fechaValidacion)+'",',t+='"departamentoOcurrencia":"'+this.FormatForDB(this.departamentoOcurrencia)+'",',t+='"municipioOcurrencia":"'+this.FormatForDB(this.municipioOcurrencia)+'",',t+='"entornoOcurrencia":"'+this.FormatForDB(this.entornoOcurrencia)+'",',t+='"territorioColectivo":"'+this.FormatForDB(this.territorioColectivo)+'",',t+='"barrio":"'+this.FormatForDB(this.barrio)+'",',t+='"tipoEvento":"'+this.FormatForDB(this.tipoEvento)+'",',t+='"categoriaEvento":"'+this.FormatForDB(this.categoriaEvento)+'",',t+='"subcategoriaEventoEnum":"'+this.FormatForDB(this.subcategoriaEventoEnum)+'",',t+='"subcategoriaEventoOtra":"'+this.FormatForDB(this.subcategoriaEventoOtra)+'",',t+='"nombreVictima":"'+this.FormatForDB(this.nombreVictima)+'",',t+='"edadVictima":"'+this.FormatForDB(this.edadVictima)+'",',t+='"etniaVictima":"'+this.FormatForDB(this.etniaVictima)+'",',t+='"rolVictimaEnum":"'+this.FormatForDB(this.rolVictimaEnum)+'",',t+='"rolVictimaOtro":"'+this.FormatForDB(this.rolVictimaOtro)+'",',t+='"discapacidadEnum":"'+this.FormatForDB(this.discapacidadEnum)+'",',t+='"sexo":"'+this.FormatForDB(this.sexo)+'",',t+='"identidadGenero":"'+this.FormatForDB(this.identidadGenero)+'",',t+='"perfilVictima":"'+this.FormatForDB(this.perfilVictima)+'",',t+='"medidasProteccionExistentes":"'+this.FormatForDB(this.medidasProteccionExistentes)+'",',t+='"otrasVictimas":"'+this.FormatForDB(this.otrasVictimas)+'",',t+='"totalVictimas":"'+this.FormatForDB(this.totalVictimas)+'",',t+='"otrasVictimasNombres":"'+this.FormatForDB(this.otrasVictimasNombres)+'",',t+='"relacionVictima":"'+this.FormatForDB(this.relacionVictima)+'",',t+='"afectadosEnum":"'+this.FormatForDB(this.afectadosEnum)+'",',t+='"familias":"'+this.FormatForDB(this.familias)+'",',t+='"numeroPersonas":"'+this.FormatForDB(this.numeroPersonas)+'",',t+='"etniaAfectadosEnum":"'+this.FormatForDB(this.etniaAfectadosEnum)+'",',t+='"derechosDDHEnum":"'+this.FormatForDB(this.derechosDDHEnum)+'",',t+='"tipoResponsableEnum":"'+this.FormatForDB(this.tipoResponsableEnum)+'",',t+='"presuntoResponsable":"'+this.FormatForDB(this.presuntoResponsable)+'",',t+='"situacionAsociada":"'+this.FormatForDB(this.situacionAsociada)+'",',t+='"accionesMitigacion":"'+this.FormatForDB(this.accionesMitigacion)+'",',t+='"riesgoPercibido":"'+this.FormatForDB(this.riesgoPercibido)+'",',t+='"institucionesEnum":"'+this.FormatForDB(this.institucionesEnum)+'",',t+='"institucionOtra":"'+this.FormatForDB(this.institucionOtra)+'"',t+="}}]",t},validate:function(){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.verifyAlert(t.wrapAlert());case 2:a=e.sent,a.updateResults[0].success?t.$router.push({name:"Home"}):t.$store.commit("SET_APP_ERROR",a.updateResults[0].error.description);case 4:case"end":return e.stop()}}),e)})))()}},created:function(){console.log(this.$store.getters.alerts.length),this.alert=this.$store.getters.alertById(this.$route.params.id),this.fillForm()}}),Tt=Rt,Ht=Object(v["a"])(Tt,_t,St,!1,null,null,null),Pt=Ht.exports;i["default"].use(G["a"]);var jt=new G["a"]({routes:[{path:"/",name:"Home",component:kt},{path:"/verify/:id",name:"Verification",component:Pt}]});i["default"].config.productionTip=!1,i["default"].use(N.a,P.a),q()($.a),i["default"].use(I["a"]),i["default"].use(U.a),i["default"].use(M["a"]),i["default"].mixin({methods:{FormatForm:function(t){if("string"!==typeof t)return t;var e=t.replace(/_/g," ");return e},FormatAsDate:function(t){if(t=parseInt(t),!t)return"N/A";var e=new Date(t);return e.getUTCDate()+"/"+(e.getUTCMonth()+1)+"/"+e.getUTCFullYear()},FormatDateForDB:function(t){if(t.includes("-")){var e=t.split("-");e[1]&&"0"==e[1][0]&&(e[1]=e[1][1]),e[2]&&"0"==e[2][0]&&(e[2]=e[2][1]);var a=e[1]+"/"+e[2]+"/"+e[0];return a}var i=new Date(parseInt(t)),s=i.getUTCMonth()+1+"/"+i.getUTCDate()+"/"+i.getUTCFullYear();return s},FormatForDB:function(t){var e=t.toString().toLowerCase();return e.replace(/ /g,"_")},FormatForHuman:function(t){return t&&"string"===typeof t?"True"===t?"Si":"False"===t?"No":t.includes("firebase")?'<a href="'.concat(t,'" target="_blank">Multimedia</a>'):(t.includes("whatsapp")&&(t=t.replace("whatsapp:","")),t.replace(/_/g," ")):"N/A"}}}),new i["default"]({router:jt,store:T,render:function(t){return t(D)},mixins:[d],created:function(){var t=this;A["initializeApp"]({apiKey:"AIzaSyBlZRLdDeTs76Ntzm3udLA5tPwzCyUJke0",authDomain:"alertachoco.firebaseapp.com",databaseURL:"https://alertachoco.firebaseio.com",projectId:"alertachoco",storageBucket:"alertachoco.appspot.com"}),A["auth"]().onAuthStateChanged((function(e){if(e){var a={email:e.email,id:e.uid,role:e.photoURL};t.$store.commit("SET_USER",a)}else t.$store.commit("SET_USER",null),t.$store.commit("SET_CURRENT_VIEW","map")}))}}).$mount("#app")},6621:function(t,e,a){},"6b9b":function(t,e,a){"use strict";var i=a("9786"),s=a.n(i);s.a},"7bc2":function(t,e,a){"use strict";var i=a("6621"),s=a.n(i);s.a},"85ec":function(t,e,a){},"88d7":function(t,e,a){},"8b71":function(t,e,a){"use strict";var i=a("88d7"),s=a.n(i);s.a},9786:function(t,e,a){},b29f:function(t,e,a){t.exports=a.p+"img/logo-gobierno.8b2f6cb8.png"},c749:function(t,e,a){"use strict";var i=a("ca91"),s=a.n(i);s.a},c845:function(t,e,a){},ca91:function(t,e,a){},dac9:function(t,e,a){t.exports=a.p+"img/logo-fisch.659ac184.png"},df03:function(t,e,a){"use strict";var i=a("c845"),s=a.n(i);s.a},ee1e:function(t,e,a){t.exports=a.p+"img/logo-codhes-corregido.fc5ede57.png"},f121:function(t,e,a){t.exports=a.p+"img/logo-fmnu.f027d0c5.png"},fa85:function(t,e,a){}});
//# sourceMappingURL=app.522f0104.js.map